####################################################################################################

_default:
  @just --list

####################################################################################################

# print justfile
[group('just')]
@show:
  bat .justfile --language make

####################################################################################################

# edit justfile
[group('just')]
@edit:
  micro .justfile

####################################################################################################

# link in-situ archive
[group('link')]
@in-situ:
  source .just/in-situ.sh

####################################################################################################

# link ex-situ archive
[group('link')]
@ex-situ:
  source .just/ex-situ.sh

####################################################################################################

# deliver archives to Pawsey
[group('remote')]
@deliver-pawsey:
  source .just/deliver-pawsey.sh

####################################################################################################

# link archives Pawsey
[group('remote')]
@link-pawsey:
  source .just/link-pawsey.sh

####################################################################################################

# download cluster executables
[group('remote')]
@prebuild:
  source .just/prebuild.sh

####################################################################################################
# compose protocols
####################################################################################################

# deliver & link configuration Pawsey
[group('remote')]
deploy-pawsey: deliver-pawsey && link-pawsey

####################################################################################################
